!function(e){var t={};function n(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=function(){const e={projects:[],activeProject:null},t={getName:function(){return this.name},setName:function(e){this.name=e||"Default"},getToDo:function(e){return this.items.find(t=>t.id===e)},getAllToDos:function(){return this.items},createToDo:function(e){const t=c(...e);return console.log(t),this.items.push(t),t},removeToDo:function(e){this.items.splice(this.items.findIndex(t=>t===e),1)},type:"Project"},n={getTitle:function(){return this.title},getDueDate:function(){return this.dueDate},getPriority:function(){return this.priority},setTitle:function(e){this.title=e||"Empty"},setDueDate:function(e){this.dueDate=e||"Empty"},setPriority:function(e){this.priority=e||"Empty"},swapCompletedStatus:function(){!0===this.completed?this.completed=!1:this.completed=!0},type:"ToDo"},a=(e,n,a)=>Object.assign(Object.create(t),{name:e||"Default",items:n||[],id:a||`${e}-${Date.now()}`}),c=(e,t,a,c,s)=>Object.assign(Object.create(n),{title:e||"Empty",dueDate:t||"Empty",priority:a||"Empty",completed:c||!1,id:s||`${e}-${Date.now()}`}),s=()=>0===e.projects.length,i=()=>e.projects,r=t=>{e.activeProject=t,l()},o=()=>e.activeProject,l=()=>localStorage.setItem("state",JSON.stringify(e));return{getAllProjects:i,getProject:t=>e.projects.find(e=>e.id===t),setActiveProject:r,getActiveProject:o,createProject:t=>{const n=a(t);return e.projects.push(n),l(),n},deleteActiveProject:()=>{const t=i().findIndex(e=>e===o());e.projects.splice(t,1),s()?r(null):r(e.projects[t===e.projects.length?t-1:t]),l()},importState:()=>{const t=JSON.parse(localStorage.getItem("state"));if(t)t.projects.forEach(t=>e.projects.push(a(t.name,t.items.map(e=>c(e.title,e.dueDate,e.priority,e.completed,e.id)),t.id))),t.activeProject?r(e.projects.find(e=>e.id===t.activeProject.id)):r(null);else{const t=a("Default",[c("First example","3/15/21","high",!0),c("Second example","3/15/21","high",!1),c("Third example","3/15/21","high",!1)],"default-project");e.projects.push(t),r(t)}},persistState:l,projectListIsEmpty:s}}(),c=function(){const e=e=>{const t=document.createElement(e.type);return Object.keys(e).forEach(n=>{"type"!==n&&(e[n]instanceof Object?Object.keys(e[n]).forEach(a=>t[n][a]=e[n][a]):t[n]=e[n])}),t},t=()=>{const t=document.querySelector(".project-sidebar"),a=e({type:"h1",className:"add-project",innerHTML:'<i class="fas fa-plus-circle"></i>Add Project'});a.addEventListener("click",n),t.append(a)},n=()=>{var n;n=".add-project",document.querySelector(n).remove();const c=document.querySelector(".project-sidebar"),i=e({type:"div",className:"add-project__box"}),r=e({type:"input",className:"add-project__input",placeholder:"Project name"}),l=e({type:"button",className:"add-project__button confirm",textContent:"Add"}),p=e({type:"button",className:"add-project__button cancel",textContent:"Cancel"});l.addEventListener("click",(function(){const e=a.projectListIsEmpty(),n=a.createProject(r.value);e&&(a.setActiveProject(n),o()),s(n),i.remove(),t()})),p.addEventListener("click",(function(){i.remove(),t()})),i.append(r,l,p),c.append(i),r.focus()},c=e=>{const t=document.querySelector(".selected");t&&t.classList.remove("selected"),e&&e.classList.add("selected")},s=t=>{const n=document.querySelector(".project-sidebar__list"),s=e({type:"h1",className:"project-sidebar__list-item "+(t.id===a.getActiveProject().id?"selected":""),innerHTML:'<i class="fas fa-folder"></i> '+t.name,dataset:{internal:t.id}});s.addEventListener("click",(function(){a.setActiveProject(t),a.persistState(),c(this),o()})),n.append(s)},i=(t,n)=>{let c;if(n&&n.currentRow)c=n.currentRow,c.innerHTML="";else{c=e({type:"div",className:"project-row"});document.querySelector(".project-details__grid").append(c)}const s=e({type:"h1",className:"table-mark",innerHTML:""+(t.completed?'<i class="fas fa-check-circle"></i>':'<i class="far fa-circle"></i>')}),i=e({type:"h1",className:"table-cell",textContent:t.title}),o=e({type:"h1",className:"table-cell",textContent:t.dueDate}),l=e({type:"h1",className:"table-cell",textContent:t.priority}),p=e({type:"div",className:"table-buttons"}),d=e({type:"h1",className:"table-edit",innerHTML:'<i class="far fa-edit"></i>'}),u=e({type:"h1",className:"table-remove",innerHTML:'<i class="fas fa-times-circle"></i>'});s.addEventListener("click",(function(){'<i class="far fa-circle"></i>'===this.innerHTML?this.innerHTML='<i class="fas fa-check-circle"></i>':this.innerHTML='<i class="far fa-circle"></i>',t.swapCompletedStatus(),a.persistState()})),d.addEventListener("click",()=>{r(t,{currentRow:c})}),u.addEventListener("click",(function(){a.getActiveProject().removeToDo(t),a.persistState(),this.parentElement.parentElement.remove()})),p.append(d,u),c.append(s,i,o,l,p)},r=(t,n)=>{let c;const s=e({type:"h1",className:"table-form-icon",innerHTML:'<i class="far fa-edit"></i>'}),r=e({type:"input",className:"table-input",placeholder:"Enter task name",value:t.title||""}),o=e({type:"input",className:"table-input",placeholder:"MM/DD/YYYY",value:t.dueDate||""}),l=e({type:"input",className:"table-input",placeholder:"Enter priority level",value:t.priority||""}),p=e({type:"div",className:"table-buttons"}),d=e({type:"h1",className:"table-confirm",innerHTML:'<i class="fas fa-check"></i>'}),u=e({type:"h1",className:"table-remove",innerHTML:'<i class="fas fa-undo-alt"></i>'});if(p.append(d,u),n&&n.currentRow)c=n.currentRow,c.innerHTML="";else{const t=document.querySelector(".project-details__grid");c=e({type:"div",className:"project-row"}),t.append(c)}c.append(s,r,o,l,p),r.focus(),u.addEventListener("click",(function(){n&&n.currentRow?i(t,n):this.parentElement.parentElement.remove()})),d.addEventListener("click",(function(){const e=Array.from(this.parentElement.parentElement.children).filter(e=>"table-input"===e.className).map(e=>e.value),s=a.getActiveProject();n&&n.currentRow?(t.setTitle(e[0]),t.setDueDate(e[1]),t.setPriority(e[2])):t=s.createToDo(e),a.persistState(),i(t,{currentRow:c})}))},o=()=>{const t=a.getActiveProject(),n=document.querySelector(".project-details");if(n.innerHTML="",t){const c=e({type:"div",className:"project-name"}),s=e({type:"h1",className:"project-details__name",innerHTML:'<i class="fas fa-tasks"></i>'+t.name}),o=e({type:"div",className:"project-buttons"}),p=e({type:"h1",className:"project-edit",innerHTML:'<i class="far fa-edit"></i>'}),d=e({type:"h1",className:"project-remove",innerHTML:'<i class="fas fa-trash-alt"></i>'}),u=e({type:"div",className:"project-details__grid"}),m=e({type:"div",className:"project-row"}),f=e({type:"h1",className:"table-heading",textContent:"Task"}),y=e({type:"h1",className:"table-heading",textContent:"Due Date"}),h=e({type:"h1",className:"table-heading",textContent:"Priorty"}),j=e({type:"h1",className:"add-to-do",innerHTML:'<i class="fas fa-plus-circle"></i>Add Item'});o.append(p,d),c.append(s,o),m.append(f,y,h),u.append(m),n.append(c,u,j);t.getAllToDos().forEach(i),j.addEventListener("click",r),d.addEventListener("click",l),p.addEventListener("click",()=>{s.style.display="none",o.style.display="none";const n=e({type:"div",className:"change-name-box"}),i=e({type:"input",className:"change-name-input",value:""+t.name}),r=e({type:"div",className:"change-name-buttonsBox"}),l=e({type:"h1",className:"change-name-button confirm",innerHTML:'<i class="fas fa-check"></i>'}),p=e({type:"h1",className:"change-name-button reject",innerHTML:'<i class="fas fa-undo-alt"></i>'});r.append(l,p),n.append(i,r),c.append(n),i.focus(),p.addEventListener("click",(function(){s.style.display="block",o.style.display="block",n.remove()})),l.addEventListener("click",(function(){t.setName(i.value),a.persistState(),document.querySelector(".selected").innerHTML='<i class="fas fa-folder"></i> '+t.name,s.innerHTML='<i class="fas fa-tasks"></i>'+t.name,s.style.display="block",o.style.display="block",n.remove()}))})}else{const t=e({type:"h1",className:"no-projects",textContent:"You have no projects!"});n.append(t)}},l=()=>{const t=e({type:"div",className:"popup"}),n=e({type:"div",className:"popup__box"}),s=e({type:"h1",className:"popup__heading",textContent:"Are you sure you want to delete this project?"}),i=e({type:"button",className:"popup-button confirm",textContent:"Yes"}),r=e({type:"button",className:"popup-button reject",textContent:"No"});n.append(s,i,r),t.append(n),document.body.append(t),r.addEventListener("click",()=>{t.remove()}),i.addEventListener("click",()=>{a.deleteActiveProject(),document.querySelector(".selected").remove(),a.getActiveProject()&&c(document.querySelector(`[data-internal="${a.getActiveProject().id}"]`)),o(),t.remove()})};return{loadUI:()=>{a.getAllProjects().forEach(e=>s(e)),t(),o()}}}();a.importState(),c.loadUI()}]);